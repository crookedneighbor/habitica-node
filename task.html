




<!DOCTYPE html>

<html>
<head>
  <title>Task</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" media="all" href="assets/css/style.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.4/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/tomorrow-night.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.4/semantic.min.js"></script>
  <script src="assets/js/javascript.js"></script>
</head>
<body>
  <div class="ui left push vertical inverted sidebar menu">
    
      
      <a class="item menu-link" href="account.html">
        
        
        Account
      </a>
    
      
      <a class="item menu-link" href="connection.html">
        
        
        Connection
      </a>
    
      
      <a class="item menu-link" href="content.html">
        
        
        Content
      </a>
    
      
      <a class="item menu-link" href="index.html">
        
        
        Index
      </a>
    
      
      <a class="item menu-link" href="tag.html">
        
        
        Tag
      </a>
    
      
      <a class="item menu-link" href="task.html">
        
        
        Task
      </a>
    
      
      <a class="item menu-link" href="user.html">
        
        
        User
      </a>
    
  </div>

  <div class='pusher'>
    <div id='menu-buttons' class='ui fixed top sticky'>
      <div class='ui basic button icon' id='menu-button'>
        <i class='icon sidebar'></i>
      </div>
      <a href='https://github.com/crookedneighbor/habitica-node/blob/master/src/task.js' class='ui basic button icon' data-content="View Source Code">
        <i class='icon code'></i>
      </a>
    </div>

    <div id="background" class="hljs"></div>

    <div id="container" class="ui container">
      <div class="ui middle aligned two column grid">
        <h2 class="ui icon header center aligned column">
          <i class="checkmark box icon"></i>
          Task
          <div class="sub header">Get em, check em, level up!</div>
        </h2>
        <div class='column'></div>
      </div>

      <div class="sections">
          
          
          
          
            
            
            <div id="task.get" class="section-1 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.get">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-get-">task.get()</h1>
<p>Get your tasks.</p>
<p>If no arguments are passed in, all the tasks are returned.</p>
<pre><code class="lang-js">api.task.get()
  .then((tasks) =&gt; {
    tasks[<span class="hljs-number">0</span>]; <span class="hljs-comment">// one of your tasks</span>
  });
</code></pre>
<p>If you pass in a task id, it will get that specific task.</p>
<pre><code class="lang-js">api.task.get(<span class="hljs-string">'id-of-your-task'</span>)
  .then((task) =&gt; {
    task.name; <span class="hljs-comment">// the task name</span>
    task.type; <span class="hljs-comment">// the task type</span>
  });
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  get (id) {
    <span class="hljs-keyword">let</span> url = <span class="hljs-string">'user/tasks'</span>;

    <span class="hljs-keyword">if</span> (id) {
      url += <span class="hljs-string">`/<span class="hljs-subst">${id}</span>`</span>;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._connection.get(url)
      .then((tasks) =&gt; {
        <span class="hljs-keyword">return</span> tasks;
      })
      .catch((err) =&gt; {
        <span class="hljs-keyword">throw</span> err;
      });
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.getDailys" class="section-2 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.getDailys">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-getdailys-">task.getDailys()</h1>
<p>Get all your dailys. Gives back an array of tasks.</p>
<pre><code class="lang-js">api.task.getDailys()
  .then((dailys) =&gt; {
    dailys[<span class="hljs-number">0</span>]; <span class="hljs-comment">// one of your dailys</span>
  });
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  getDailys () {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._filterTasksByType(<span class="hljs-string">'daily'</span>);
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.getRewards" class="section-3 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.getRewards">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-getrewards-">task.getRewards()</h1>
<p>Get all your rewards. Gives back an array of tasks.</p>
<pre><code class="lang-js">api.task.getRewards()
  .then((rewards) =&gt; {
    rewards[<span class="hljs-number">0</span>]; <span class="hljs-comment">// one of your rewards</span>
  });
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  getRewards () {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._filterTasksByType(<span class="hljs-string">'reward'</span>);
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.getHabits" class="section-4 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.getHabits">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-gethabits-">task.getHabits()</h1>
<p>Get all your habits. Gives back an array of tasks.</p>
<pre><code class="lang-js">api.task.getHabits()
  .then((habits) =&gt; {
    habits[<span class="hljs-number">0</span>]; <span class="hljs-comment">// one of your habits</span>
  });
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  getHabits () {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._filterTasksByType(<span class="hljs-string">'habit'</span>);
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.getTodos" class="section-5 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.getTodos">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-gettodos-">task.getTodos()</h1>
<p>Get all your todos. Gives back an array of tasks.</p>
<pre><code class="lang-js">api.task.getTodos()
  .then((todos) =&gt; {
    todos[<span class="hljs-number">0</span>]; <span class="hljs-comment">// one of your todos</span>
  });
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  getTodos () {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._filterTasksByType(<span class="hljs-string">'todo'</span>);
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.score" class="section-6 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.score">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-score-">task.score()</h1>
<p>Scores a task.</p>
<p>Takes a task id and a direction (either <code>&#39;up&#39;</code> or <code>&#39;down&#39;</code>).</p>
<pre><code class="lang-js">api.task.score(
 <span class="hljs-string">'task-id'</span>,
 <span class="hljs-string">'down'</span>,
).then((stats) =&gt; {
  stats.delta; <span class="hljs-comment">// Change in task value, negative number</span>
  stats._tmp.drop; <span class="hljs-comment">// If scoring the task resulted in a drop</span>
});
</code></pre>
<p>Direction defaults to ‘up’ when not provided</p>
<pre><code class="lang-js">api.task.score(<span class="hljs-string">'task-id'</span>)
  .then((stats) =&gt; {
    stats.delta; <span class="hljs-comment">// Change in task value, positive number</span>
  });
</code></pre>
<p>If the task id does not already exist, it will create a new habit.</p>
<pre><code class="lang-js">api.task.score(
 <span class="hljs-string">'task-id'</span>,
 <span class="hljs-string">'down'</span>,
).then((stats) =&gt; {
  <span class="hljs-keyword">return</span> api.task.get(<span class="hljs-string">'task-id'</span>);
}).then((task) =&gt; {
  task.type; <span class="hljs-comment">// 'habit'</span>
  task.id; <span class="hljs-comment">// 'task-id'</span>
  task.text; <span class="hljs-comment">// 'task-id'</span>
});
</code></pre>
<p>If the task id does not already exist, you can pass in an optional body object to customize certain fields</p>
<pre><code class="lang-js">api.task.score(
 <span class="hljs-string">'task-id'</span>,
 <span class="hljs-string">'down'</span>,
 {
   type: <span class="hljs-string">'todo'</span>,
   text: <span class="hljs-string">'Custom Name'</span>,
   notes: <span class="hljs-string">'Custom Note'</span>,
 },
).then((stats) =&gt; {
  <span class="hljs-keyword">return</span> api.task.get(<span class="hljs-string">'task-id'</span>);
}).then((task) =&gt; {
  task.type; <span class="hljs-comment">// 'todo'</span>
  task.id; <span class="hljs-comment">// 'task-id'</span>
  task.text; <span class="hljs-comment">// 'Custom Name'</span>
  task.notes; <span class="hljs-comment">// 'Custom Note'</span>
});
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  score (id, direction=<span class="hljs-string">'up'</span>, body={}) {
    <span class="hljs-keyword">if</span> (!id) <span class="hljs-keyword">throw</span> <span class="hljs-string">'Task id is required'</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._connection.post(
        <span class="hljs-string">`user/tasks/<span class="hljs-subst">${id}</span>/<span class="hljs-subst">${direction}</span>`</span>,
        { send: body }
      ).then((stats) =&gt; {
        <span class="hljs-keyword">return</span> stats;
      })
      .catch((err) =&gt; {
        <span class="hljs-keyword">throw</span> err;
      });
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.post" class="section-7 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.post">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-post-">task.post()</h1>
<p>Create a new task</p>
<p>Takes the task object as an argument</p>
<pre><code class="lang-js">api.task.post({
 text: <span class="hljs-string">'task name'</span>,
 type: <span class="hljs-string">'daily'</span>,
 notes: <span class="hljs-string">'notes'</span>,
}).then((task) =&gt; {
  task.text; <span class="hljs-comment">// 'task name'</span>
});
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  post (taskBody) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._connection.post(
        <span class="hljs-string">'user/tasks'</span>,
        { send: taskBody }
      ).then((task) =&gt; {
        <span class="hljs-keyword">return</span> task;
      })
      .catch((err) =&gt; {
        <span class="hljs-keyword">throw</span> err;
      });
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.put" class="section-8 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.put">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-put-">task.put()</h1>
<p>Update an existing task</p>
<p>Task id and task body are required arguments.</p>
<pre><code class="lang-js">api.task.put(
  <span class="hljs-string">'task-id'</span>,
  { text: <span class="hljs-string">'new task name'</span>, notes: <span class="hljs-string">'new task notes'</span> }
).then((task) =&gt; {
  task.text; <span class="hljs-comment">// 'new task name'</span>
});
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  put (id, taskBody) {
    <span class="hljs-keyword">if</span> (!id) <span class="hljs-keyword">throw</span> <span class="hljs-string">'Task id is required'</span>;
    <span class="hljs-keyword">if</span> (!taskBody) <span class="hljs-keyword">throw</span> <span class="hljs-string">'Task body is required'</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._connection.put(
        <span class="hljs-string">`user/tasks/<span class="hljs-subst">${id}</span>`</span>,
        { send: taskBody }
      ).then((task) =&gt; {
        <span class="hljs-keyword">return</span> task;
      })
      .catch((err) =&gt; {
        <span class="hljs-keyword">throw</span> err;
      });
  }</pre></div></div>
              
            </div>
          
        
          
          
          
            
            
            <div id="task.del" class="section-9 ui middle aligned two column grid">
              <div class="annotation column">
                
                <a class='section-link' href="#task.del">
                  <i class="linkify icon"></i>
                </a>
                <h1 id="task-del-">task.del()</h1>
<p>Delete existing task.</p>
<p>Task id is a required argument.</p>
<pre><code class="lang-js">api.task.del(
  <span class="hljs-string">'task-id'</span>,
).then((task) =&gt; {
  task; <span class="hljs-comment">// {}</span>
});
</code></pre>

              </div>
              
                <div class="content column hljs javascript"><div class='highlight'><pre>  del (id) {
    <span class="hljs-keyword">if</span> (!id) <span class="hljs-keyword">throw</span> <span class="hljs-string">'Task id is required'</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._connection.del(<span class="hljs-string">`user/tasks/<span class="hljs-subst">${id}</span>`</span>)
      .then((task) =&gt; {
        <span class="hljs-keyword">return</span> task;
      })
      .catch((err) =&gt; {
        <span class="hljs-keyword">throw</span> err;
      });
  }</pre></div></div>
              
            </div>
          
        
          
          
          
        
      </div>
    </div>
  </div>
</body>
</html>
